#!/usr/bin/perl
use utf8;
use open ':locale';
use Modern::Perl '2014';
use YAML qw( LoadFile );

sub projects {
  my $filename = shift;
  my %yaml = LoadFile($filename);
  my $count = 0;
  foreach my $k (sort keys %yaml) {
    say $yaml{$k}->{software}{short_name};
    $count++;
  }
  return $count;
}

say 'total: ', projects('cache/dataset.yml', @ARGV);
