\xchapter{Manutenibilidade de software acadêmico de análise estática}
{Este capítulo apresenta um estudo sobre a manutenibilidade de projetos de
software acadêmico de análise estática em termos de métricas de complexidade
estrutural.}
\label{estudo3}

% Introduction
% Background
% Experimental Setup (hipoteses / design)
% Results (data analysis)
% Discussion
% Threats to validity
% Conclusions

%Estudar o software acadêmico trazido pelo estudo 1 (mais citados? outro?)

SERIA UM ESTUDO na linha dos estudos de  ATTRACTIVENESS.
Nesse caso, o aspecto de adoção para uso e adoção para contribuição.

\section{Introdução e Motivação} \label{estudo3:introducao}

Análise da complexidade estrutural dos softwares científicos de análise
estática de código-fonte como forma de avaliar a qualidade interna dos mesmos.

Poucos estudos sobre avaliação de qualidade interna de softwares fazem isso com
{\it softwares científicos}, algo de extrema importância para compreender como
tais artefatos estão contribuindo para a divulgação do conhecimento e para
replicação dos resultados das pesquisas em engenharia de software.

Avaliar os {\it softwares científicos} do ponto de vista de sua qualidade pode
ajudar a compreender quanta atenção é dada ao seu desenvolvimento, uma vez que
tradicionalmente os seus autores enfrentam problemas com manutenabilidade
\cite{prlic2012ten}.

% referencia sobre complexidade:
% Livro: Software Metrics, A Rigorous and Practical Approach [3rd 2015]
% 9.1.1 Structural Complexity Properties
%
%
%We will also
%investigate the maintainability measures taxonomy by
%Oman et al where 92 measures are listed and classified [24].
%[24] Oman, P., Hagemeister, J., and Ash, D., A Definition
%and Taxonomy for Software Maintainability, report
%SETL Report 91-08-TR, University of Idaho, 1991.
%
%\cite{Measurements of Software Maintainability}
%
%Taxonomia, metricas, etc ... sobre manutenabilidade de software.
%
%\cite{Metrics for Assessing a Software System’s Maintainability}

\section{Fundamentação} \label{estudo3:fundamentacao}

(fundamentar manutenibilidade em termos da métrica de complexidade estrutural)

\section{Definição} \label{estudo3:definicao} % {{{

% Por que o estudo será realizado?
% explore how the amount of structural complexity and available documentation may influence
% the different levels of participation in an academic software ecosystem.

\subsection{Definição do Objetivo}

\begin{description}
\item{\bf Objeto de estudo.}
O objeto de estudo são projetos de software acadêmico de análise estática.

\item{\bf Propósito.}
O propósito deste estudo é caracterizar 

\item{\bf Perspectiva.}
A perspectiva considerada é a de cientistas desenvolvedor de software acadêmico.

\item{\bf Foco de qualidade.}
O principal aspecto de qualidade estudado é a manutenibilidade e complexidade estrutural.

\item{\bf Contexto.}
O estudo foi conduzido com um subconjunto dos projetos de software acadêmico de análise estática
publicados nas conferências ASE e SCAM, e avaliados como sustentáveis.
\end{description}

\subsection{Sumário da Definição}

Analisar os \textit{projetos de software acadêmico}
com o propósito de \textit{caracterizar}  % purpose  % era medir e avaliar - coloquei 'caracterizar'
com respeito a \textit{complexidade estrutural (manutenibilidade)}  % quality focus
na perspectiva de \textit{cientistas desenvolvedores de software}% perspective
no contexto de \textit{projetos de software de análise estática publicado nas conferências ASE e SCAM}.

\subsection{Questões de Pesquisa}

Neste estudo as seguintes questões de pesquisa, a respeito dos projetos de
software acadêmico de análise estática, serão investigadas:

\newcommand{\EstudoTresQuestaoUm}{
  Existe relação entre o número de menções/usuários ao software e sua
  complexidade estrutural?
}
\newcommand{\EstudoTresQuestaoDois}{
  Existe relação entre o número de contribuidores do software e sua
  complexidade estrutural?
}
\newcommand{\EstudoTresQuestaoTres}{
  Existe relação entre o número de contribuidores-pesquisadores do software e
  sua complexidade estrutural?
}

\begin{description}
  \item [Q1:] \QuestaoOne
  \item [Q2:] \QuestaoTwo
  \item [Q3:] \QuestaoThree
\end{description}

\subsection{Métricas}

Para responder às questões de pesquisas, as seguintes métricas serão usadas:

\begin{enumerate}
  \item Métrica de complexidade estrutural dos projetos de software acadêmico de análise estática.
  \item Número de lançamentos/releases dos projetos de software acadêmico de análise estática.
  \item Número de autores com publicações mencionando os projetos de software acadêmico de análise estática.
  \item Número contribuidores no repositório de código fonte dos projetos de software acadêmmico de análise estática.
%Ao final, coletamos também algumas métricas do software em relação ao seu
%ecossistema de software e em relação a sua qualidade interna: número
%total de lançamentos, data e número de versão de cada lançamento, número de
%commits e a complexidade estrutural do código fonte.
\end{enumerate}

% }}}

\section{Planejamento do estudo}

\subsection{Seleção de Contexto}

\subsection{Formulação de Hipóteses}

Hipótese: Relacionar número de menções/usuários à complexidade estrutural.

Hipótese: Relacionar o número de contribuidores-pesquisadores à complexidade estrutural.

Hipótese: Relacionar número de contribuidores (geral) à complexidade estrutural.

\subsection{Design}

Um fator que pode influenciar os resultados é o domínio de aplicação
\cite{terceiro2012understanding, kumar2012survey}, porém, como estudamos apenas
ferramentas de análise estática, consideramos este fator isolado e sem
influência sobre o estudo.

Com o conhecimento de quais ferramentas tem melhor manutenabilidade iremos
utilizar as dimensões caracterizadas para cada ferramenta para verificar se
tais características influenciam na manutenabilidade, não apenas notar se
influenciam, mas poderemos notar quais características influenciam. Por
exemplo, será que as ferramentas que aceitam como entrada análise da linguagem
Java possuem melhor manutenabilidade do que aquelas que aceitam C++?

\section{Operação} 

\subsection{Métricas de software}

As informações sobre lançamentos foram coletadas manualmente em arquivos de
changelog, no site do projeto, ou em tags no próprio repositório de código
fonter. O número de commits foi coletado com o uso do git via linha de comando,
o cálculo e coleta da métrica de complexidade estrutural do código fonte foi
coletada com software de análise estática Analizo.

\subsection{Execução}

Para cada ferramenta de análise estática selecionada, coletamos  suas métricas de código-fonte
com suporte da ferramenta {\it analizo metrics}. 
Esta coleta foi automatizada pelo script {\it
analyze-all-projects}\footnote{http://github.com/joenio/dissertacao-ufba-2016/blob/master/dataset/analyze-all-projects}
escrito durante este estudo e  disponível no
repositório\footnote{http://github.com/joenio/dissertacao-ufba-2016} desta
pesquisa.

Analizo é software livre, distribuído sob a licença GNU General Public License
versão 3. Seu código-fonte, bem como pacotes binários, manuais e tutoriais
podem ser obtidos em \url{http://www.analizo.org}. Todas as ferramentas são
auto-documentadas e podem ser consultadas como páginas de manual UNIX. 
Analizo é escrito em Perl, sua última versão 1.19.1 lançada em 01 de Setembro de 2016
foi a versão utilizada neste estudo.

\subsection{Coleta de dados} \label{analise}

Os dados coletados incluem a caracterização das ferramentas de análise
estática, bem como, os valores das métricas de código-fonte de complexidade
estrutural para cada ferramenta. A coleta das métricas de
código-fonte foi realizada pelo Analizo com o auxílio do script {\em
analyze-all-projects}\footnote{http://github.com/joenio/dissertacao-ufba-2016/blob/master/dataset/analyze-all-projects}. 

Todos os dados foram agregados numa planilha.

% aproveitar perte destas referencias ao justificar o uso de percentis ao inves de média
%
%Observar métricas de código-fonte em nível de projetos de software leva
%ao seguinte desafio: como obter valores de métricas que representem todo o projeto sendo
%que métricas de código-fonte usualmente são calculadas para cada elemento do sistema, como arquivos ou classes?
%
%Este desafio tem sido amplamente discutido em estudos sobre definição de
%intervalos de referência ({\it thresholds}) para métricas de
%código-fonte \cite{Shatnawi2010, Kaur2013, Herbold2011}. Intervalos de
%referência são valores conhecidos para uma dada medida
%\cite[Chapter~2.1]{Lanza2007} com algum valor semantico, por exemplo, se
%medirmos a altura das pessoas e definirmos até 2 metros como alto, então
%pessoas acima de 2 metros serão classificadas como muito altas.
%
%Intervalos de referência podem ser definidos de diversas formas, desde
%abordagens baseadas em modelos estatísticos \cite{Shatnawi2010, Kaur2013}
%até aprendizado de máquina \cite{Herbold2011} e inteligência artificial.
%Entre as inúmeras abordagens, muitas partem de estudos empíricos
%usando softwares da indústria como objeto de estudo, geralmente com
%softwares de domínios específicos, parte-se da coleta de dados de
%métricas de código-fonte e com uso de uma abordagem, ou uma combinação entre
%elas, chega-se aos intervalos.
%
%Estes intervalos são também continuamente avaliados a fim de saber se são
%válidos ou não, as abordagens utilizadas para calcular os intervalos levam em
%consideração inúmeros aspectos na tentativa de validar os valores encontrados,
%como por exemplo a natureza dos dados, se seguem a lei de distribuição de
%potência
%\cite{Wheeldon2003,Potanin2005,Concas2007,Ferreira2009,Yao2009,Clauset2009} ou
%seguem uma distribuição normal
%\cite{Baxter2006,Lanza2007,Herraiz2011,Herraiz2012}, avaliam ainda se possuem
%cauda longa, se são livre de escala, entre outros aspectos.


\section{Análise e Interpretação de Resultados}

(pendente)

\section{Ameaças à validade}

(pendente)

\section{Conclusões}

(pendente)

%% O percentil 75 tem muitos valores zero, os percentis 90 e 95 sao pracitamente iguais 
%% na comparacao, os maiores sao geralmente tb maior no outro, exceto uns 2 exemplos:
%% smatch-0.3/EJB e pmd-src-5.3.7/wap-2.1.

%Os valores encontrados serão avaliados sempre tendo em vista os intervalos
%sugeridos na Tabela \ref{valores-frequentes}, esta tabela traz os valores encontrados
%no estudo que estamos replicando em parte \cite{Meirelles2013}.

%\begin{table}[H]
%  \caption{Valores frequentes\cite{Meirelles2013}}
%  \centering
%  \begin{tabular}{| c | l | l | l | l | l |}
%    \hline
%    Métrica           & Linguagem & Muito frequente & Frequente & Pouco frequente & Não frequente \\
%    \hline
%\multirow{3}{*}{CBO}   & C         & 0 -- 5,0   & 6,0 -- 9,0   & 9,0 -- 12,0  & $>$ 12,0  \\
%                       & C++       & 0 -- 3,0   & 4,0 -- 5,0   & 6,0 -- 7,0   & $>$ 7,0   \\
%                       & Java      & 0 -- 3,0   & 4,0 -- 6,0   & 7,0 -- 9,0   & $>$ 9,0   \\
%    \hline
%\multirow{3}{*}{LCOM4} & C         & 0 -- 5,0   & 6,0 -- 12,0  & 12,0 -- 20,0 & $>$ 20,0  \\
%                       & C++       & 0 -- 5,0   & 6,0 -- 10,0  & 10,0 -- 14,0 & $>$ 14,0  \\
%                       & Java      & 0 -- 3,0   & 4,0 -- 7,0   & 8,0 -- 12,0  & $>$ 12,0  \\
%    \hline
%\multirow{3}{*}{SC}    & C         & 0 -- 18,0  & 19,0 -- 77,0 & 78,0 -- 168,0 & $>$ 168,0 \\
%                       & C++       & 0 -- 12,0  & 13,0 -- 28,0 & 29,0 -- 51,0  & $>$ 51,0  \\
%                       & Java      & 0 -- 6,0   & 7,0 -- 21,0  & 22,0 -- 45,0  & $>$ 45,0  \\
%    \hline
%  \end{tabular}
%  \label{valores-frequentes}
%\end{table}

%\section{Design}

%No entando é conhecido que alguns fatores inflenciam o valor de algumas métricas,
%para evitar tais influências iremos isolar estes fatores realizando comparações
%entre ferramentas com os mesmos fatores, por exemplo, comparação entre linguagens diferentes,
%domínio de aplicação diferentes, tamanho em número de classes.

%Para garantir o princípio de ``randomization'' irei comparar com o maior número
%de características das ferramentas possíveis.
%Para garantir o princípio de ``balancing'' selecionei o mesmo número de
%releases das ferramentas que serão analisadas longitudemente.

%A investigação será realizada a partir de uma busca e seleção de ferramentas de
%análise estática, em seguida para cada ferramenta selecionada iremos obter
%o código-fonte da ferramenta, com código-fonte em mão iremos calcular métricas
%de complexidade estrutural e custo de mudança, em paralelo as características
%dessas ferramentas serão documentadas, neste ponto a análise e interpretação
%dos dados se iniciará, o objetivo será compreender quais características
%implicam na manutenabilidade.

% * fugir de valores de referencia
% * mostrar graficos com evolucao de SC de cada grupo/ferramenta
% * discutir essa evolucao em cada grupo/ferramenta, mostrando que aqui esta evoluindo pra melhor, aqui pra pior, etc
